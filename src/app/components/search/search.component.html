<div id="main-search-bar">
  <mat-form-field appearance="legacy">
    <input [formControl]="searchForm" type="text" matInput placeholder="Search">
  </mat-form-field>


  <mat-form-field appearance="legacy">
    <mat-label>Display</mat-label>
    <mat-select>
      <mat-option *ngFor="let item of ['List','Full','Images']" [value]="item">
        {{item}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="legacy">
    <mat-label>Sort</mat-label>
    <mat-select>
      <mat-option *ngFor="let item of ['Name','Number','Set']" [value]="item">
        {{item}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <button mat-button (click)="basicSearch(searchForm.value,1)">search</button>

</div>

<div *ngIf="searchList.length" id="main-search-container">

  <mat-expansion-panel hideToggle *ngIf="cardsToAddList.length">
    <mat-expansion-panel-header>
      <mat-panel-title>
        List of Cards <span *ngIf="cardsToAddList">({{cardsToAddList.length}})</span>
      </mat-panel-title>
      <mat-panel-description>
        cards to add/remove from users collections
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div *ngIf="cardsToAddList">
      <p *ngFor="let cardToAdd of cardsToAddList">
       {{cardToAdd.card.name}} ( {{cardToAdd.quantity}} )
        <app-card-collection-control *ngIf="userData.email"
                                     [card]="cardToAdd.card"
                                     [cardsList]="cardsToAddList"
                                     [quantity]="cardToAdd.quantity"
                                     (cardsListEmitter)="updateCardsToAddList($event)">
        </app-card-collection-control>
      </p>
    </div>
    <button mat-raised-button class="btn-primary" (click)="clickAddCardsToUser()">Add Cards</button>
  </mat-expansion-panel>

  <mat-paginator [length]="paginatorlength"
                 [pageSize]="paginatorPageSize"
                 [pageSizeOptions]="[20, 40, 80, 120]"
                 (page)="onPaginate($event)"
                 aria-label="Select page">
  </mat-paginator>

  <div id="main-search-grid">
    <div *ngFor="let searchCard of searchList" class="main-search-card-container">
      <!-- CARD IMAGE -->
      <div *ngIf="searchCard.card.images"><img matTooltip="{{searchCard.card.name}} card" src='{{searchCard.card.images.small}}' alt="card"></div>
      <!-- CARD CONTROL -->
      <div *ngIf="searchCard.card" class="card-control">
        <app-card-collection-control *ngIf="userData.email"
                                     [card]="searchCard.card"
                                     [cardsList]="cardsToAddList"
                                     (cardsListEmitter)="updateCardsToAddList($event)">
        </app-card-collection-control>
      </div>
    </div>
  </div>

  <mat-paginator [length]="paginatorlength"
                 [pageSize]="paginatorPageSize"
                 [pageSizeOptions]="[20, 40, 80, 120]"
                 (page)="onPaginate($event)"
                 aria-label="Select page">
  </mat-paginator>
</div>
<!--

-->
